<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="/js/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function (eve) {
            //savePath={1}&name={2}&state={3}&imgInfo={4}&callBack={5}
            var name = getUrlParam("name");
            var fileId = getUrlParam("fileId");
            var savePath = getUrlParam("savePath");
            var state = getUrlParam("state");
            var imgInfo = getUrlParam("imgInfo");
            var callBack = getUrlParam("callBack");
            
            if (eve && eve.preventDefault)
                eve.preventDefault();
            if (callBack) {
                eval(callBack).call(this, savePath, state, imgInfo, name, fileId);
            }
            else {
                parent.upLoadDone(savePath, state, imgInfo, name, fileId);
            }
        });
        //获取url中的参数
        function getUrlParam(name, str) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
            str = str || window.location.search.substr(1);
            var r = str.match(reg);  //匹配目标参数
            if (r != null) return decodeURIComponent(r[2]); return null; //返回参数值
        }
    </script>
</head>
<body>
</body>
</html>
